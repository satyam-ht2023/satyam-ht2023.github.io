(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{981:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(5155),n=t(2115),d=t(5695);function l(){let e=(0,d.useSearchParams)(),[r,t]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let r=e.get("domain")||"LM";fetch("http://localhost:5100/api/v1/report/last-run?domain=".concat(r)).then(e=>e.json()).then(t).catch(async()=>{let e=await fetch("/sample.json");t(await e.json())})},[e]),r)?(0,s.jsxs)("div",{style:{padding:"20px"},children:[(0,s.jsxs)("h1",{children:["Last Run Report for ",r.domain]}),(0,s.jsxs)("table",{border:1,cellPadding:10,cellSpacing:0,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Story URL"}),(0,s.jsx)("th",{children:"Total Ad Units"}),(0,s.jsx)("th",{children:"Total Single Card"}),(0,s.jsx)("th",{children:"Total Multi Product Carousels"}),(0,s.jsx)("th",{children:"Number of Cards Not Rendered in Top Widget"}),(0,s.jsx)("th",{children:"Number of Single Cards Not Rendered"})]})}),(0,s.jsx)("tbody",{children:r.results.map(e=>{var r,t;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("a",{href:e.storyURL,target:"_blank",rel:"noopener noreferrer",children:e.storyURL})}),(0,s.jsx)("td",{children:e.totalAdUnits}),(0,s.jsx)("td",{children:e.totalSingleCards}),(0,s.jsx)("td",{children:e.totalMultiProductCarousel}),(0,s.jsx)("td",{children:null==(r=e.topWidgetCardsNotRendered)?void 0:r.length}),(0,s.jsx)("td",{children:null==(t=e.singleCardsNotRendered)?void 0:t.length})]},e.storyURL)})})]})]}):(0,s.jsx)("div",{children:"Loading data..."})}function a(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading reports, please wait..."}),children:(0,s.jsx)(l,{})})}},3910:(e,r,t)=>{Promise.resolve().then(t.bind(t,981))},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(3910)),_N_E=e.O()}]);